---
layout: page
title: Microservice Next.js
summary: Microservice Next.js is space to learn with Next.js.
categories: javascript
tags: javascript
featured-img: microservice
comments: 마이크로 서비스 (with Next.js)
---

# Introducing Microservice Next.js !!

#####  Microservice Next.js is space to learn with Next.js.

---

## Contents

### Table of Contents

|   No |         Title         | Remarks         |
| ---: | :-------------------: | :-------------- |
|    0 | [환경설정](#install)  | Next.js환경셋팅 |
|    1 | [커리큘럼](#syllabus) | 커리큘럼        |
|    2 |    [설계](#design)    | 실습            |

---

<a name="install"/>

## Get Started(`Next.js`)

### 1. Node.js 설치

* Web 서버 구축을 위한 Node.js 설치
* [Node.js 다운로드](https://nodejs.org/ko/download/)

> `Next.js`로 프로젝트 만들기

```javascript
npx create-next-app --typescript mio
or
yarn create next-app --typescript mio
```

* Eslint + prettier 설정

```javascript
yarn add -D eslint prettier eslint-plugin-prettier 
yarn add -D eslint-config-prettier eslint-plugin-import eslint-plugin-react eslint-plugin-react-hooks
yarn add -D @typescript-eslint/parser @typescript-eslint/eslint-plugin
```

* CSS Module

> 리액트 프로젝트에서 컴포넌트를 스타일링 할 때 CSS Module 이라는 기술을 사용하면, CSS 클래스가 중첩되는 것을 완벽히 방지

* 반응형 WEB 설치

```javascript
$ npm install @types/react-responsive
$ npm install react-responsive
or
$ yarn add @types/react-responsive
$ yarn add react-responsive
```

* react 다국어 모듈 설치

```javascript
$ npm install react-i18next i18next
or
$ yarn add react-i18next i18next
```

* Mobx 설치
  
```javascript
$ npm install mobx-react
or
$ yarn add mobx mobx-react
# babel 설치
$ npm install @babel/plugin-proposal-class-properties @babel/plugin-proposal-decorators
or
$ yarn add @babel/plugin-proposal-class-properties @babel/plugin-proposal-decorators
```
---

## Data & Source

### Table of Data & Source

|   No | Title | Educational Institution |                        Source                         | Remarks   |
| ---: | :---: | :---------------------: | :---------------------------------------------------: | :-------- |
|    1 | jobmp | <small>개인개발</small> | [jobmp-front](https://github.com/shpimit/jobmp-front) | `Next.js` |

---

## Syllabus

### Writing.......

---

## Design

### 1. Atomic Design

> 간략한 특징은 다음과 같이 Atoms(원자), Molecules(분자), Organisms(유기체), Templates, Pages 분류로 Next.js Component의 종류와 규모에 맞게 적절히 분류해서 생성하여 관리합니다.

#### a. Atomic Design 단계 구분

* Atoms(원자), Molecules(분자), Organisms(유기체), Templates, Pages

#### b. Atomic Design 적용한 폴더 구조

* atoms, molecules, organisms

---

## `Next.js`로 프로젝트 만들기

### 1. CRA(Create Next.js App) 설치하기

* NPM 명령어를 이용해서 CRA를 설치할 수 있습니다.
```shell
npm install -g create-Next.js-app
```
### 2. Next.js 프로젝트 생성하기
* 특정한 폴더로 이동하여 create-Next.js-app 명령어를 이용하여 spa라는 폴더를 만들어 보도록 하겠습니다.
```shell
#c:\Data\create-Next.js-app jobmarketplace
#D:\Project\Java\Next.js> create-Next.js-app spa
npx create-Next.js-app spa
```

### 3. 서버 가동하기

* yarn으로 가동 가능, 만약 yarn이 설치 안되어 있으면...
```shell
npm install --global yarn
yarn start

yarn start = (npm start)
yarn build = (npm run build)
yarn test  = (npm run test)
yarn eject = (npm run eject)
```

* Windows에서 실행 스크립트 오류날때

```shell
Set-ExecutionPolicy -ExecutionPolicy Unrestricted -Scope LocalMachine
```


* npm으로 가동하기 위해서는 아래와 같이 함.(`npm start`)

### 4. [Material UI](https://material-ui.com/getting-started/installation/)를 적용하여 테이블 만들기

* Material UI를 설치하기 위해서 터미널(Terminal)에서 다음과 같은 명령어를 입력

```shell
npm install @material-ui/core
```

### 5. withStyles 라이브러리를 이용해서 CSS를 적용

### 6. Node.js 서버 만들기

* client 폴더를 만들고 기존 개발 한것 전부 이관하기
* 루트 폴더에 package.json 만들기
* nodemon 설치
```shell
$ npm install -g nodemon
```

* Express 설치
```shell
$ npm install -g express-generator
$ npm install -g express
```

* 루트 폴더 package.json의 dependencies에 있는 모듈들 설치
```shell
$ npm install
```

* 루트 폴더에 server.js 만들기
* server start :  `node server.js`

### ★ [JSON 검증 서비스](https://jsonlint.com/)

### 7. Next.js의 라이프 사이클(Life Cycle)  이해
* 기본적으로 리액트 라이브러리가 처음 컴포넌트를 실행할 때는 다음의 순서를 따릅니다.

#### 1) constructor()
#### 2) componentWillMount()
#### 3) render()
#### 4) componentDidMount()

### 8. 서버와의 통신목적의 라이브러리 axios를 설치(From Next.js client)
```shell
npm install --save axios
```

### 9. Node.js 서버 파일 업로드 처리 라이브러리 multer를 설치(From Node.js Server)
```shell
npm install --save multer
```

### 10. 안정적인 UI/UX를 위해 AppBar를 적용
* AppBar는 검색 바, 내비게이션 바 등의 목적으로 사용
* client로 이동 icons 라이브러리를 받음
* [Material UI AppBar 예제](https://material-ui.com/demos/app-bar/)
```shell
npm i @material-ui/icons
```

### 11. 페이지 이동을 구현하기 위해 router 구현
```shell
$ npm install Next.js-router-dom —save 
or
$ yarn add Next.js-router-dom
```

### 12. Styled Component  설치

```shell
$ npm install --save styled-components
```

### 13. Social Login

* Google 로그인 [API Key 발급받기](https://console.cloud.google.com/apis/)

```shell
$ yarn add Next.js-google-login
or refer to https://console.cloud.google.com/apis/
$ npm install Next.js-google-login
```

### 14. Kakao Login

* Kakao 로그인 [API Key 발급받기](https://developers.kakao.com)

```shell
$ npm i -S Next.js Next.js-dom Next.js-kakao-login
$ yarn add Next.js-kakao-login
or refer to https://www.npmjs.com/package/Next.js-kakao-login
$ npm install Next.js-kakao-login
```

### 15. Next.js 다국어 처리

* [Next.js i18n 다국어 지원하기](https://jinminkim-50502.medium.com/Next.js-프로젝트-i18n-다국어-지원하기-a92bd5539e1d)

```shell
$ npm install Next.js-i18next i18next — save
or
$ yarn add Next.js-i18next i18next - save
```

## Reference

* 블로그
  1. [Next.js - 반응형 web](https://chana.tistory.com/m/entry/Nextjs-mobile-responsive-react-responsive)
  2. [Redux vs Mobx](https://woowabros.github.io/experience/2019/01/02/kimcj-Next.js-mobx.html) : Next.js에서 Mobx 경험기 (Redux와 비교기)

* youtube
  1. [Create Next.js App으로 리액트 프로젝트 시작하기 [Next.js와 Node.js를 활용한 고객 관리 시스템 개발 강의]](https://youtu.be/_yEH9mczm3g)
  2. [Next.js 기본 강좌 1-1. 리액트를 왜 쓰는가](https://youtu.be/V3QsSrldHqI)